{"version":3,"file":"level.$id-BpxUDsRk.js","sources":["../../../src/components/music/theme.mp3?url","../../../src/components/music/music.marko","../../../src/routes/level.$id/+page.marko","../../../node_modules/.marko/5d021e3d/__marko-run__route.level.$id.marko"],"sourcesContent":["export default \"__VITE_ASSET__B954K3Vp__\"","import music from \"./theme.mp3?url\";\n<audio/song src=music loop style=\"display: none\"/>\n\n<script>\n  const events = [\"pointerdown\", \"keydown\"];\n  function startAudio() {\n    song().play();\n    events.forEach((event) => {\n      document.removeEventListener(event, startAudio);\n    });\n  }\n  events.forEach((event) => {\n    document.addEventListener(event, startAudio);\n  });\n</script>\n","<button\n  aria-label=\"menu\"\n  class=\"hamburger\"\n  popovertarget=\"nav-popover\"\n  popovertargetaction=\"show\"\n>\n  <svg viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M2 3H10M2 6H10M2 9H10\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n</button>\n<nav id=\"nav-popover\" popover>\n  <a aria-label=\"exit level\" href=\"/levels\">\n    <svg viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M3.5 7.5h4a1 1 0 000-3h-4l1-1m-1 1 1 1\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n  </a>\n  <button\n    aria-label=\"fullscreen\"\n    onClick() {\n      document.documentElement.requestFullscreen().catch((err) => {\n        alert(\n          `Error attempting to enable fullscreen mode: ${err.message} (${err.name})`,\n        );\n      });\n    }\n  >\n    <svg viewBox=\"0 0 12 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"m 2.5 7.5 v 2 h 2 m 3 0 h 2 v -2 m 0 -3 v -2 h -2 m -3 0 h -2 v 2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n  </button>\n</nav>\n\n<local-let/deaths=0 key=`level-${$global.params.id}-deaths`/>\n<local-let/victory=false key=`level-${$global.params.id}-victory`/>\n\n<div class=\"stats\">\n  <h1 class=\"level-title\">\n    ${victory && \"üåü\"} Level ${$global.params.id}\n  </h1>\n  <span class=\"deaths\">\n    ‚ò†Ô∏è ${deaths}\n  </span>\n</div>\n<const/nextLevel=\"/level/\" + (+($global.params.id ?? 0) + 1) + \"/\"/>\n<link rel=\"prefetch\" href=nextLevel>\n<game\n  tiles=$global.tiles\n  onVictory() {\n    if (\"navigation\" in window) {\n      (window.navigation as any).navigate(nextLevel, {\n        prerender: true,\n      });\n    } else {\n      window.location.href = nextLevel;\n    }\n  }\n/>\n\n<music/>\n\n<style>\n  :root {\n    user-select: none;\n  }\n  .hamburger {\n    color: white;\n  }\n  .stats {\n    position: absolute;\n    top: 0;\n    right: 1rem;\n    text-align: right;\n    color: white;\n  }\n\n  #nav-popover {\n    background-color: transparent;\n    border: none;\n  }\n\n  ::backdrop {\n    backdrop-filter: blur(2vmin);\n  }\n\n  button,\n  a {\n    background: none;\n    border: none;\n    cursor: pointer;\n    width: 3rem;\n    height: 3rem;\n    border-radius: 50%;\n    text-align: center;\n    align-content: center;\n    display: inline-block;\n    color: inherit;\n    text-decoration: none;\n    padding: 0;\n    box-sizing: border-box;\n\n    > svg {\n      stroke: currentColor;\n    }\n  }\n\n  nav :is(button, a) {\n    width: 5rem;\n    height: 5rem;\n    border: 1px solid black;\n    backdrop-filter: brightness(2);\n    margin: 0.5rem;\n  }\n</style>\n","// __marko-run__route.level.$id.marko\nimport Layout1 from '../../../src/routes/+layout.marko';\nimport Page from '../../../src/routes/level.$id/+page.marko';\n\n<Layout1>\n\t<Page/>\n</>\n"],"names":["music","_setup__effect","_$","_scope","startAudio","play","events","forEach","event","document","removeEventListener","addEventListener","_setup_","nextLevel","_game_input_onVictory","_onVictory","_victory","victory","_deaths","deaths","documentElement","requestFullscreen","catch","err","alert","message","name","_localLet","$global","params","id","_game","_music","_localLet_input","value","key","_nextLevel","_game_input_tiles","tiles","window","navigation","navigate","prerender","location","href","_setup$Layout1Body","_Page","_Page_template","_Page_walks"],"mappings":"kPAAA,MAAeA,EAAA,mFCAqBC,EAAAC,OAAAC,GAAA,CAAA,CAKlC,IAASC,EAAT,UAAsB,CACpBD,EAAA,CAAA,EAAOE,KAAM,EACbC,EAAOC,QAASC,GAAU,CACxBC,SAASC,oBAAoBF,EAAOJ,CAAU,CAChD,CAAC,CACH,EANA,MAAME,EAAS,CAAC,cAAe,SAAS,EAOxCA,EAAOC,QAASC,GAAU,CACxBC,SAASE,iBAAiBH,EAAOJ,CAAU,CAC7C,CAAC,CAAE,CAAA,CAAA,EAAA,SAAAQ,EAAAT,EAAA,CAAAD,EAAAC,WAZWH,CAAK,EAAAC,EAAAE,CAAA,CAAA,k8BCuDKU,CAAS,EAAAC,EAAAX,EAAAY,CAAAA,EAAAA,EAAAZ,CAAA,CAAA,CAAA,EAAA,IAAAD,EAAA,EAAAY,CAAA,CAAA,EAAAE,EAAAd,EAAAA,KAAAA,EAAAC,GAAAA,CAAAA,EAAAc,IAAAf,EAAAC,EAAA,CAAA,EAP7Bc,GAAW,IAAI,CAAA,CAAA,EAAAC,EAAAhB,EAAAA,KAAAA,EAAA,EAAA,CAAAC,EAAAgB,IAAAjB,EAAAC,KAGZgB,CAAM,CAAA,CAAA,EAAAlB,EAAAC,EAAA,KAAAC,GAAAD,EAAAC,EA1BJ,CAAA,EAAA,QAAA,UAAA,CACLM,SAASW,gBAAgBC,oBAAoBC,MAAOC,GAAQ,CAC1DC,MACE,+CAA+CD,EAAIE,OAAO,KAAKF,EAAIG,IAAI,GACzE,CACF,CAAC,CAAE,CACJ,CAAA,EAAA,SAAAd,EAAAT,EAAA,CAAAD,EAAAC,IAAAe,CAAA,EAAAS,EAAAxB,EAAA,CAAA,CAAA,EAAAD,EAAAC,IAAAa,CAAA,EAAAW,EAAAxB,EAAA,CAAA,CAAA,EAAAD,EAAAC,EAAA,CAAA,EAiB0BA,EAAAyB,QAAQC,OAAOC,EAAE,EAAAC,EAAA5B,EAAA,CAAA,CAAA,EAAA6B,EAAA7B,EAAA,CAAA,CAAA,EAAAF,EAAAE,CAAA,EAAA8B,EAAA9B,EAAA,CAAA,EAAA,CAAA+B,MAL9B,EAACC,IAAK,SAAShC,EAAAyB,QAAQC,OAAOC,EAAE,SAAS,CAAA,EAAAG,EAAA9B,EAAA,CAAA,EAAA,CAAA+B,MACxC,GAAKC,IAAK,SAAShC,EAAAyB,QAAQC,OAAOC,EAAE,UAAU,CAAA,EAAAM,EAAAjC,EAUhD,WAAa,EAAEA,EAAAyB,QAAQC,OAAOC,IAAM,GAAK,GAAK,GAAG,EAAAO,EAAAlC,EAAA,CAAA,EAG1DA,EAAAyB,QAAQU,KAAK,CAAA,CAAA,SAAAvB,EAAA,CAAA,GAAAF,CAAA,EAAA,CAAA,OACV,UAAA,CACH,eAAgB0B,OACjBA,OAAOC,WAAmBC,SAAS5B,EAAW,CAC7C6B,UAAW,EACb,CAAC,EAEDH,OAAOI,SAASC,KAAO/B,CAE1B,CAAA,CAAAX,EAAA,KAAAa,CAAA,ECjE0D,MAAA8B,EAAA1C,GAAA,CAAA2C,EAAA3C,EAAA,CAAA,CAAA,CAAA,EAAAD,EAAAA,KAAAA,EAAA6C,MAAAA,CAAA,MAAAC,KAAAA,CAAA,KAAAH,CAAA,CAAA","x_google_ignoreList":[3]}